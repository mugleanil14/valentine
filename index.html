<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Story</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, system-ui;
  background: #000;
  color: #f6f1e7;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  overflow: hidden;
  position: relative;
}

/* Animated background */
.bg-animation {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  background: radial-gradient(circle at top, #1a1022, #050509 40%, #000);
}

.floating-heart {
  position: absolute;
  font-size: 24px;
  animation: float-up 8s linear infinite;
  opacity: 0;
}

@keyframes float-up {
  0% { bottom: -50px; opacity: 0; }
  10% { opacity: 0.8; }
  90% { opacity: 0.8; }
  100% { bottom: 110vh; opacity: 0; }
}

.blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.4;
  animation: blob-move 10s ease-in-out infinite;
}

.blob1 {
  width: 300px;
  height: 300px;
  background: linear-gradient(45deg, #ff4b7d, #ff92b3);
  top: 10%;
  left: 10%;
  animation-delay: 0s;
}

.blob2 {
  width: 250px;
  height: 250px;
  background: linear-gradient(45deg, #f0c678, #ffb347);
  bottom: 20%;
  right: 15%;
  animation-delay: 2s;
}

.blob3 {
  width: 200px;
  height: 200px;
  background: linear-gradient(45deg, #a96bff, #c794ff);
  top: 50%;
  left: 50%;
  animation-delay: 4s;
}

@keyframes blob-move {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -30px) scale(1.1); }
  50% { transform: translate(-20px, 20px) scale(0.9); }
  75% { transform: translate(20px, 30px) scale(1.05); }
}

.panel {
  width: 100%;
  max-width: 880px;
  min-height: 550px;
  border-radius: 26px;
  background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 24px 80px rgba(0,0,0,0.7);
  backdrop-filter: blur(24px);
  padding: 24px;
  position: relative;
  z-index: 1;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  padding-bottom: 15px;
}

.meta {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  opacity: 0.7;
}

.title {
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-top: 4px;
}

.dots {
  display: flex;
  gap: 6px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #f0c678;
  animation: pulse-dot 2s ease-in-out infinite;
}

.dot:nth-child(2) { animation-delay: 0.2s; background: #ff4b7d; }
.dot:nth-child(3) { animation-delay: 0.4s; background: #a96bff; }

@keyframes pulse-dot {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.3); opacity: 1; }
}

.content {
  min-height: 450px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  text-align: center;
  padding: 20px;
  width: 100%;
  animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.screen.active {
  display: flex;
}

.heading {
  font-size: 2rem;
  font-weight: 300;
  margin-bottom: 15px;
  margin-top: 10px;
}

.subtext {
  font-size: 1rem;
  opacity: 0.8;
  margin-bottom: 25px;
}

.hint {
  padding: 8px 16px;
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 20px;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  cursor: pointer;
  transition: all 0.3s;
}

.hint:hover {
  background: rgba(255,255,255,0.1);
  transform: scale(1.05);
}

.question {
  font-size: 1.6rem;
  font-weight: 300;
  margin-bottom: 25px;
  margin-top: 15px;
}

.buttons {
  display: flex;
  gap: 15px;
  margin-bottom: 20px;
}

button {
  padding: 12px 28px;
  border-radius: 25px;
  border: 1px solid rgba(255,255,255,0.4);
  background: rgba(0,0,0,0.5);
  color: #f6f1e7;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  cursor: pointer;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before {
  width: 300px;
  height: 300px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

button.primary {
  background: linear-gradient(135deg, rgba(255,92,138,0.95), rgba(240,198,120,0.9));
  color: #000;
  font-weight: 500;
}

.timeline-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 25px;
  width: 100%;
  max-width: 700px;
}

.timeline-text {
  font-size: 1.6rem;
  font-weight: 300;
  transition: opacity 0.5s;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0 30px;
  width: 100%;
  line-height: 1.5;
}

.timeline-counter {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  opacity: 0.6;
}

.tease {
  margin-top: 15px;
  margin-bottom: 10px;
  font-size: 0.9rem;
  opacity: 0.7;
  transition: opacity 0.3s;
  min-height: 25px;
}

.final-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.final-text {
  text-align: left;
  max-width: 600px;
  margin-top: 20px;
}

.final-line {
  font-size: 1.3rem;
  line-height: 1.8;
  margin-bottom: 10px;
  opacity: 0;
  transform: translateY(10px);
  transition: all 1s ease-out;
}

.final-line.show {
  opacity: 1;
  transform: translateY(0);
}

.final-line.big {
  font-size: 1.6rem;
  margin-top: 15px;
  margin-bottom: 15px;
}

.tagline {
  margin-top: 30px;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  opacity: 0.8;
}

/* Sparkle effect */
.sparkle {
  position: fixed;
  width: 4px;
  height: 4px;
  background: white;
  border-radius: 50%;
  pointer-events: none;
  animation: sparkle-anim 1s ease-out forwards;
  z-index: 999;
}

@keyframes sparkle-anim {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0); opacity: 0; }
}

.music-control {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: 12px 24px;
  background: rgba(255,92,138,0.4);
  border: 2px solid rgba(255,255,255,0.3);
  border-radius: 25px;
  color: white;
  cursor: pointer;
  font-size: 0.9rem;
  z-index: 1000;
  backdrop-filter: blur(10px);
  transition: all 0.3s;
  font-weight: 600;
  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
}

.music-control:hover {
  background: rgba(255,92,138,0.6);
  transform: scale(1.08);
  box-shadow: 0 12px 30px rgba(0,0,0,0.6);
}

.music-control.playing {
  background: rgba(240,198,120,0.5);
  animation: music-pulse 2s ease-in-out infinite;
}

@keyframes music-pulse {
  0%, 100% { box-shadow: 0 8px 20px rgba(240,198,120,0.5); }
  50% { box-shadow: 0 12px 35px rgba(240,198,120,0.9); }
}

/* Photo/GIF container */
.media-container {
  margin-bottom: 20px;
  width: 280px;
  height: 280px;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 15px 40px rgba(0,0,0,0.6);
  border: 3px solid rgba(255,255,255,0.2);
  flex-shrink: 0;
  transition: opacity 0.5s;
}

.media-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.media-container.small {
  width: 240px;
  height: 240px;
}

.media-container.large {
  width: 320px;
  height: 320px;
}

@media (max-width: 640px) {
  .panel {
    min-height: 500px;
  }
  
  .media-container {
    width: 220px;
    height: 220px;
  }
  
  .media-container.large {
    width: 260px;
    height: 260px;
  }
  
  .question {
    font-size: 1.4rem;
  }
  
  .timeline-text {
    font-size: 1.3rem;
    padding: 0 20px;
  }
}
</style>
</head>
<body>

<!-- Background animation -->
<div class="bg-animation">
  <div class="blob blob1"></div>
  <div class="blob blob2"></div>
  <div class="blob blob3"></div>
</div>

<!-- Music -->
<audio id="bgMusic" loop preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3" type="audio/mpeg">
</audio>

<button class="music-control" id="musicBtn" onclick="toggleMusic()">
  üéµ <span id="musicStatus">CLICK TO PLAY MUSIC</span>
</button>

<div class="panel">
  <div class="header">
    <div>
      <div class="meta">Valentine ¬∑ Storyline</div>
      <div class="title">For the two of us</div>
    </div>
    <div class="dots">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>

  <div class="content">
    
    <!-- Screen 1: Opening - WATCH PHOTO -->
    <div class="screen active" id="screen1">
      <div class="media-container">
        <img src="watch.JPG" alt="Time with you">
      </div>
      <div class="heading">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –º–∏—Ä.</div>
      <div class="subtext">–ö–æ—Å–Ω–∏—Å—å —ç–∫—Ä–∞–Ω–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏.</div>
      <div class="hint" onclick="showScreen(2)">Tap ¬∑ –ö–æ—Å–Ω–∏—Å—å</div>
    </div>

    <!-- Screen 2: Question 1 - MUSEUM PHOTO -->
    <div class="screen" id="screen2">
      <div class="media-container small">
        <img src="museum.JPG" alt="Together">
      </div>
      <div class="question">Do you know when we met?</div>
      <div class="buttons">
        <button onclick="showHeart()">Yes</button>
        <button class="primary" onclick="startTimeline()">No</button>
      </div>
    </div>

    <!-- Screen 3: Timeline with changing images -->
    <div class="screen" id="screen3">
      <div class="timeline-section">
        <div class="media-container small">
          <img id="timelineImage" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdGxjazJxZWlxcnU0cnYyb3BwN3QydXZrcjY5aTRld2J0OWk1YnJhNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xTiTnwgQ8Wjs1sUB4k/giphy.gif" alt="Timeline">
        </div>
        <div class="timeline-text" id="timelineText"></div>
        <div class="timeline-counter" id="timelineCounter"></div>
      </div>
    </div>

    <!-- Screen 4: Question 2 - PARIS NIGHT PHOTO -->
    <div class="screen" id="screen4">
      <div class="media-container small">
        <img src="paris-night.jpg" alt="Paris">
      </div>
      <div class="question">Would you choose this story?</div>
      <div class="buttons">
        <button class="primary" onclick="showFinal()">Yes</button>
        <button id="noBtn" onmouseenter="moveAway(event)" ontouchstart="moveAway(event)">No</button>
      </div>
      <div class="tease" id="teaseText">Some moments don't repeat.</div>
    </div>

    <!-- Screen 5: Final - HUGGING AT ARC -->
    <div class="screen" id="screen5">
      <div class="final-section">
        <div class="media-container large">
          <img src="arc%20hug.jpg" alt="Forever">
        </div>
        <div class="final-text">
          <p class="final-line">From the moment we met‚Ä¶</p>
          <p class="final-line">To my last breath.</p>
          <p class="final-line big">I will protect you.</p>
          <p class="final-line">I will take care of you.</p>
          <p class="final-line">I choose you ‚Äî always.</p>
          <p class="final-line big">I love you.</p>
          <p class="final-line tagline">Happy Valentine's Day.</p>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
// Floating hearts
setInterval(() => {
  const heart = document.createElement('div');
  heart.className = 'floating-heart';
  heart.textContent = '‚ù§Ô∏è';
  heart.style.left = Math.random() * 100 + '%';
  heart.style.animationDuration = (Math.random() * 4 + 5) + 's';
  heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
  document.querySelector('.bg-animation').appendChild(heart);
  setTimeout(() => heart.remove(), 9000);
}, 1200);

// Music
let musicPlaying = false;
const music = document.getElementById('bgMusic');
music.volume = 1.0;

function toggleMusic() {
  const btn = document.getElementById('musicBtn');
  const status = document.getElementById('musicStatus');
  
  if (musicPlaying) {
    music.pause();
    status.textContent = 'CLICK TO PLAY MUSIC';
    btn.classList.remove('playing');
    musicPlaying = false;
  } else {
    music.play().then(() => {
      status.textContent = '‚ô´ PLAYING...';
      btn.classList.add('playing');
      musicPlaying = true;
    }).catch(err => {
      status.textContent = 'CLICK AGAIN';
      setTimeout(() => music.play(), 500);
    });
  }
}

// Sparkle effect
document.addEventListener('click', (e) => {
  for (let i = 0; i < 8; i++) {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.style.left = e.clientX + (Math.random() * 40 - 20) + 'px';
    sparkle.style.top = e.clientY + (Math.random() * 40 - 20) + 'px';
    document.body.appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 1000);
  }
});

function showScreen(n) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('screen' + n).classList.add('active');
}

function showHeart() {
  const emojis = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíû', 'üíò'];
  for (let i = 0; i < 30; i++) {
    setTimeout(() => {
      const emoji = document.createElement('div');
      emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      emoji.style.position = 'fixed';
      emoji.style.fontSize = '50px';
      emoji.style.left = Math.random() * window.innerWidth + 'px';
      emoji.style.top = Math.random() * window.innerHeight + 'px';
      emoji.style.transition = 'all 1.5s';
      emoji.style.zIndex = '1000';
      emoji.style.textShadow = '0 0 10px rgba(255,75,125,0.8)';
      document.body.appendChild(emoji);
      
      setTimeout(() => {
        emoji.style.opacity = '0';
        emoji.style.transform = 'translateY(-150px) scale(2.5) rotate(360deg)';
      }, 100);
      
      setTimeout(() => emoji.remove(), 1600);
    }, i * 70);
  }
}

// Timeline with storylines and matching images
const phases = [
  {
    text: "When galaxies were forming in the cosmos‚Ä¶",
    image: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdGxjazJxZWlxcnU0cnYyb3BwN3QydXZrcjY5aTRld2J0OWk1YnJhNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xTiTnwgQ8Wjs1sUB4k/giphy.gif"
  },
  {
    text: "When the pyramids stones were set‚Ä¶",
    image: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3RxZXF4Ym4yaXM4cGdjZ3h5NnB4aHJ6dWlub29jeDU1cnl1NXc0ayZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l0HlDHQEiIdY3kxlm/giphy.gif"
  },
  {
    text: "When histories were written in blood and glory‚Ä¶",
    image: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExYmx1dHN5NjF5cWRsZGRyeWE2aHcxanZ4Mzh6ZGp4OXNwY3VnbWE5biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oKIPnAiaMCws8nOsE/giphy.gif"
  },
  {
    text: "When the world became connected‚Ä¶",
    image: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzZ1Z2t5N2g1OW5tZ3c4YWphZHR1YnQ5c3Y3cDFjcGdiMjYwbnRiYiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l0HlPwMAzh13pcZ20/giphy.gif"
  },
  {
    text: "And then‚Ä¶ Paris.",
    image: "arc%20woman.JPG"
  }
];

function startTimeline() {
  showScreen(3);
  let i = 0;
  
  function showPhase() {
    const textEl = document.getElementById('timelineText');
    const imgEl = document.getElementById('timelineImage');
    
    textEl.style.opacity = '0';
    imgEl.style.opacity = '0';
    
    setTimeout(() => {
      textEl.textContent = phases[i].text;
      imgEl.src = phases[i].image;
      document.getElementById('timelineCounter').textContent = (i+1).toString().padStart(2, '0') + ' ¬∑ 05';
      textEl.style.opacity = '1';
      imgEl.style.opacity = '1';
    }, 500);
    
    i++;
    
    if (i < phases.length) {
      setTimeout(showPhase, 3500);
    } else {
      setTimeout(() => showScreen(4), 3500);
    }
  }
  
  showPhase();
}

const teases = [
  "Some moments don't repeat.",
  "History is patient.",
  "Think again.",
  "Destiny awaits your answer.",
  "The universe is watching... üëÄ"
];
let teaseIndex = 0;
let moveCount = 0;

function moveAway(e) {
  e.preventDefault();
  const btn = document.getElementById('noBtn');
  if (moveCount > 6) {
    btn.style.opacity = '0';
    btn.style.pointerEvents = 'none';
    document.getElementById('teaseText').textContent = "Looks like YES is your only choice! üòäüíï";
    return;
  }
  
  const x = Math.random() * 120 - 60;
  const y = Math.random() * 80 - 40;
  btn.style.transform = `translate(${x}px, ${y}px) scale(${1 - moveCount * 0.08}) rotate(${Math.random() * 30 - 15}deg)`;
  
  teaseIndex = (teaseIndex + 1) % teases.length;
  document.getElementById('teaseText').textContent = teases[teaseIndex];
  moveCount++;
}

function showFinal() {
  showScreen(5);
  const lines = document.querySelectorAll('.final-line');
  lines.forEach((line, i) => {
    setTimeout(() => line.classList.add('show'), i * 1200);
  });
  
  setTimeout(() => {
    for (let i = 0; i < 70; i++) {
      setTimeout(() => {
        const heart = document.createElement('div');
        const hearts = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíû', '‚ù§Ô∏è', 'üíò'];
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.position = 'fixed';
        heart.style.fontSize = (Math.random() * 20 + 30) + 'px';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.top = '-50px';
        heart.style.transition = 'all 5s ease-out';
        heart.style.zIndex = '999';
        heart.style.textShadow = '0 0 15px rgba(255,75,125,0.9)';
        document.body.appendChild(heart);
        
        setTimeout(() => {
          heart.style.top = '110vh';
          heart.style.transform = `rotate(${Math.random() * 720}deg) scale(${Math.random() + 0.5})`;
        }, 50);
        
        setTimeout(() => heart.remove(), 5100);
      }, i * 100);
    }
  }, 1500);
}
</script>

</body>
</html>
